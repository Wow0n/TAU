import org.junit.jupiter.api.Test;
import org.junit.jupiter.api.extension.ExtendWith;
import org.mockito.Mock;
import org.mockito.junit.jupiter.MockitoExtension;
import org.tau.FakeMealDB;

import static org.junit.jupiter.api.Assertions.assertEquals;
import static org.mockito.Mockito.when;

@ExtendWith(MockitoExtension.class)
public class FakeMealDBTest {
    @Mock
    FakeMealDB fakeMealDB;

    String url = "https://www.themealdb.com/api/json/v1/1/";

    @Test
    public void searchMealByName() {
        when(fakeMealDB.searchMeal(url + "search.php?s=Arrabiata")).thenReturn("{\"meals\":[{\"idMeal\":\"52771\",\"strMeal\":\"Spicy Arrabiata Penne\",\"strDrinkAlternate\":null,\"strCategory\":\"Vegetarian\",\"strArea\":\"Italian\",\"strInstructions\":\"Bring a large pot of water to a boil. Add kosher salt to the boiling water, then add the pasta. Cook according to the package instructions, about 9 minutes.\\r\\nIn a large skillet over medium-high heat, add the olive oil and heat until the oil starts to shimmer. Add the garlic and cook, stirring, until fragrant, 1 to 2 minutes. Add the chopped tomatoes, red chile flakes, Italian seasoning and salt and pepper to taste. Bring to a boil and cook for 5 minutes. Remove from the heat and add the chopped basil.\\r\\nDrain the pasta and add it to the sauce. Garnish with Parmigiano-Reggiano flakes and more basil and serve warm.\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/ustsqw1468250014.jpg\",\"strTags\":\"Pasta,Curry\",\"strYoutube\":\"https:\\/\\/www.youtube.com\\/watch?v=1IszT_guI08\",\"strIngredient1\":\"penne rigate\",\"strIngredient2\":\"olive oil\",\"strIngredient3\":\"garlic\",\"strIngredient4\":\"chopped tomatoes\",\"strIngredient5\":\"red chile flakes\",\"strIngredient6\":\"italian seasoning\",\"strIngredient7\":\"basil\",\"strIngredient8\":\"Parmigiano-Reggiano\",\"strIngredient9\":\"\",\"strIngredient10\":\"\",\"strIngredient11\":\"\",\"strIngredient12\":\"\",\"strIngredient13\":\"\",\"strIngredient14\":\"\",\"strIngredient15\":\"\",\"strIngredient16\":null,\"strIngredient17\":null,\"strIngredient18\":null,\"strIngredient19\":null,\"strIngredient20\":null,\"strMeasure1\":\"1 pound\",\"strMeasure2\":\"1\\/4 cup\",\"strMeasure3\":\"3 cloves\",\"strMeasure4\":\"1 tin \",\"strMeasure5\":\"1\\/2 teaspoon\",\"strMeasure6\":\"1\\/2 teaspoon\",\"strMeasure7\":\"6 leaves\",\"strMeasure8\":\"spinkling\",\"strMeasure9\":\"\",\"strMeasure10\":\"\",\"strMeasure11\":\"\",\"strMeasure12\":\"\",\"strMeasure13\":\"\",\"strMeasure14\":\"\",\"strMeasure15\":\"\",\"strMeasure16\":null,\"strMeasure17\":null,\"strMeasure18\":null,\"strMeasure19\":null,\"strMeasure20\":null,\"strSource\":null,\"strImageSource\":null,\"strCreativeCommonsConfirmed\":null,\"dateModified\":null}]}");
        String mockResponse = fakeMealDB.searchMeal(url + "search.php?s=Arrabiata");

        assertEquals(mockResponse, "{\"meals\":[{\"idMeal\":\"52771\",\"strMeal\":\"Spicy Arrabiata Penne\",\"strDrinkAlternate\":null,\"strCategory\":\"Vegetarian\",\"strArea\":\"Italian\",\"strInstructions\":\"Bring a large pot of water to a boil. Add kosher salt to the boiling water, then add the pasta. Cook according to the package instructions, about 9 minutes.\\r\\nIn a large skillet over medium-high heat, add the olive oil and heat until the oil starts to shimmer. Add the garlic and cook, stirring, until fragrant, 1 to 2 minutes. Add the chopped tomatoes, red chile flakes, Italian seasoning and salt and pepper to taste. Bring to a boil and cook for 5 minutes. Remove from the heat and add the chopped basil.\\r\\nDrain the pasta and add it to the sauce. Garnish with Parmigiano-Reggiano flakes and more basil and serve warm.\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/ustsqw1468250014.jpg\",\"strTags\":\"Pasta,Curry\",\"strYoutube\":\"https:\\/\\/www.youtube.com\\/watch?v=1IszT_guI08\",\"strIngredient1\":\"penne rigate\",\"strIngredient2\":\"olive oil\",\"strIngredient3\":\"garlic\",\"strIngredient4\":\"chopped tomatoes\",\"strIngredient5\":\"red chile flakes\",\"strIngredient6\":\"italian seasoning\",\"strIngredient7\":\"basil\",\"strIngredient8\":\"Parmigiano-Reggiano\",\"strIngredient9\":\"\",\"strIngredient10\":\"\",\"strIngredient11\":\"\",\"strIngredient12\":\"\",\"strIngredient13\":\"\",\"strIngredient14\":\"\",\"strIngredient15\":\"\",\"strIngredient16\":null,\"strIngredient17\":null,\"strIngredient18\":null,\"strIngredient19\":null,\"strIngredient20\":null,\"strMeasure1\":\"1 pound\",\"strMeasure2\":\"1\\/4 cup\",\"strMeasure3\":\"3 cloves\",\"strMeasure4\":\"1 tin \",\"strMeasure5\":\"1\\/2 teaspoon\",\"strMeasure6\":\"1\\/2 teaspoon\",\"strMeasure7\":\"6 leaves\",\"strMeasure8\":\"spinkling\",\"strMeasure9\":\"\",\"strMeasure10\":\"\",\"strMeasure11\":\"\",\"strMeasure12\":\"\",\"strMeasure13\":\"\",\"strMeasure14\":\"\",\"strMeasure15\":\"\",\"strMeasure16\":null,\"strMeasure17\":null,\"strMeasure18\":null,\"strMeasure19\":null,\"strMeasure20\":null,\"strSource\":null,\"strImageSource\":null,\"strCreativeCommonsConfirmed\":null,\"dateModified\":null}]}");
    }

    @Test
    public void searchMealByNameThatDontExist() {
        when(fakeMealDB.searchMeal(url + "search.php?s=aaa")).thenReturn("{\"meals\":null}");
        String mockResponse = fakeMealDB.searchMeal(url + "search.php?s=aaa");

        assertEquals(mockResponse, "{\"meals\":null}");
    }

    @Test
    public void searchMealDetailsById() {
        when(fakeMealDB.searchMealDetailsById(url + "lookup.php?i=52771")).thenReturn("{\"meals\":[{\"idMeal\":\"52771\",\"strMeal\":\"Spicy Arrabiata Penne\",\"strDrinkAlternate\":null,\"strCategory\":\"Vegetarian\",\"strArea\":\"Italian\",\"strInstructions\":\"Bring a large pot of water to a boil. Add kosher salt to the boiling water, then add the pasta. Cook according to the package instructions, about 9 minutes.\\r\\nIn a large skillet over medium-high heat, add the olive oil and heat until the oil starts to shimmer. Add the garlic and cook, stirring, until fragrant, 1 to 2 minutes. Add the chopped tomatoes, red chile flakes, Italian seasoning and salt and pepper to taste. Bring to a boil and cook for 5 minutes. Remove from the heat and add the chopped basil.\\r\\nDrain the pasta and add it to the sauce. Garnish with Parmigiano-Reggiano flakes and more basil and serve warm.\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/ustsqw1468250014.jpg\",\"strTags\":\"Pasta,Curry\",\"strYoutube\":\"https:\\/\\/www.youtube.com\\/watch?v=1IszT_guI08\",\"strIngredient1\":\"penne rigate\",\"strIngredient2\":\"olive oil\",\"strIngredient3\":\"garlic\",\"strIngredient4\":\"chopped tomatoes\",\"strIngredient5\":\"red chile flakes\",\"strIngredient6\":\"italian seasoning\",\"strIngredient7\":\"basil\",\"strIngredient8\":\"Parmigiano-Reggiano\",\"strIngredient9\":\"\",\"strIngredient10\":\"\",\"strIngredient11\":\"\",\"strIngredient12\":\"\",\"strIngredient13\":\"\",\"strIngredient14\":\"\",\"strIngredient15\":\"\",\"strIngredient16\":null,\"strIngredient17\":null,\"strIngredient18\":null,\"strIngredient19\":null,\"strIngredient20\":null,\"strMeasure1\":\"1 pound\",\"strMeasure2\":\"1\\/4 cup\",\"strMeasure3\":\"3 cloves\",\"strMeasure4\":\"1 tin \",\"strMeasure5\":\"1\\/2 teaspoon\",\"strMeasure6\":\"1\\/2 teaspoon\",\"strMeasure7\":\"6 leaves\",\"strMeasure8\":\"spinkling\",\"strMeasure9\":\"\",\"strMeasure10\":\"\",\"strMeasure11\":\"\",\"strMeasure12\":\"\",\"strMeasure13\":\"\",\"strMeasure14\":\"\",\"strMeasure15\":\"\",\"strMeasure16\":null,\"strMeasure17\":null,\"strMeasure18\":null,\"strMeasure19\":null,\"strMeasure20\":null,\"strSource\":null,\"strImageSource\":null,\"strCreativeCommonsConfirmed\":null,\"dateModified\":null}]}");
        String mockResponse = fakeMealDB.searchMealDetailsById(url + "lookup.php?i=52771");

        assertEquals(mockResponse, "{\"meals\":[{\"idMeal\":\"52771\",\"strMeal\":\"Spicy Arrabiata Penne\",\"strDrinkAlternate\":null,\"strCategory\":\"Vegetarian\",\"strArea\":\"Italian\",\"strInstructions\":\"Bring a large pot of water to a boil. Add kosher salt to the boiling water, then add the pasta. Cook according to the package instructions, about 9 minutes.\\r\\nIn a large skillet over medium-high heat, add the olive oil and heat until the oil starts to shimmer. Add the garlic and cook, stirring, until fragrant, 1 to 2 minutes. Add the chopped tomatoes, red chile flakes, Italian seasoning and salt and pepper to taste. Bring to a boil and cook for 5 minutes. Remove from the heat and add the chopped basil.\\r\\nDrain the pasta and add it to the sauce. Garnish with Parmigiano-Reggiano flakes and more basil and serve warm.\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/ustsqw1468250014.jpg\",\"strTags\":\"Pasta,Curry\",\"strYoutube\":\"https:\\/\\/www.youtube.com\\/watch?v=1IszT_guI08\",\"strIngredient1\":\"penne rigate\",\"strIngredient2\":\"olive oil\",\"strIngredient3\":\"garlic\",\"strIngredient4\":\"chopped tomatoes\",\"strIngredient5\":\"red chile flakes\",\"strIngredient6\":\"italian seasoning\",\"strIngredient7\":\"basil\",\"strIngredient8\":\"Parmigiano-Reggiano\",\"strIngredient9\":\"\",\"strIngredient10\":\"\",\"strIngredient11\":\"\",\"strIngredient12\":\"\",\"strIngredient13\":\"\",\"strIngredient14\":\"\",\"strIngredient15\":\"\",\"strIngredient16\":null,\"strIngredient17\":null,\"strIngredient18\":null,\"strIngredient19\":null,\"strIngredient20\":null,\"strMeasure1\":\"1 pound\",\"strMeasure2\":\"1\\/4 cup\",\"strMeasure3\":\"3 cloves\",\"strMeasure4\":\"1 tin \",\"strMeasure5\":\"1\\/2 teaspoon\",\"strMeasure6\":\"1\\/2 teaspoon\",\"strMeasure7\":\"6 leaves\",\"strMeasure8\":\"spinkling\",\"strMeasure9\":\"\",\"strMeasure10\":\"\",\"strMeasure11\":\"\",\"strMeasure12\":\"\",\"strMeasure13\":\"\",\"strMeasure14\":\"\",\"strMeasure15\":\"\",\"strMeasure16\":null,\"strMeasure17\":null,\"strMeasure18\":null,\"strMeasure19\":null,\"strMeasure20\":null,\"strSource\":null,\"strImageSource\":null,\"strCreativeCommonsConfirmed\":null,\"dateModified\":null}]}");
    }

    @Test
    public void searchMealDetailsByIdThatDontExist() {
        when(fakeMealDB.searchMealDetailsById(url + "lookup.php?i=420")).thenReturn("{\"meals\":null}");
        String mockResponse = fakeMealDB.searchMealDetailsById(url + "lookup.php?i=420");

        assertEquals(mockResponse, "{\"meals\":null}");
    }

    @Test
    public void getListOfAllCategories() {
        when(fakeMealDB.getAllCategories(url + "list.php?c=list")).thenReturn("{\"meals\":[{\"strCategory\":\"Beef\"},{\"strCategory\":\"Breakfast\"},{\"strCategory\":\"Chicken\"},{\"strCategory\":\"Dessert\"},{\"strCategory\":\"Goat\"},{\"strCategory\":\"Lamb\"},{\"strCategory\":\"Miscellaneous\"},{\"strCategory\":\"Pasta\"},{\"strCategory\":\"Pork\"},{\"strCategory\":\"Seafood\"},{\"strCategory\":\"Side\"},{\"strCategory\":\"Starter\"},{\"strCategory\":\"Vegan\"},{\"strCategory\":\"Vegetarian\"}]}");
        String mockResponse = fakeMealDB.getAllCategories(url + "list.php?c=list");

        assertEquals(mockResponse, "{\"meals\":[{\"strCategory\":\"Beef\"},{\"strCategory\":\"Breakfast\"},{\"strCategory\":\"Chicken\"},{\"strCategory\":\"Dessert\"},{\"strCategory\":\"Goat\"},{\"strCategory\":\"Lamb\"},{\"strCategory\":\"Miscellaneous\"},{\"strCategory\":\"Pasta\"},{\"strCategory\":\"Pork\"},{\"strCategory\":\"Seafood\"},{\"strCategory\":\"Side\"},{\"strCategory\":\"Starter\"},{\"strCategory\":\"Vegan\"},{\"strCategory\":\"Vegetarian\"}]}");
    }

    @Test
    public void getListOfAllAreas() {
        when(fakeMealDB.getAllAreas(url + "list.php?a=list")).thenReturn("{\"meals\":[{\"strArea\":\"American\"},{\"strArea\":\"British\"},{\"strArea\":\"Canadian\"},{\"strArea\":\"Chinese\"},{\"strArea\":\"Croatian\"},{\"strArea\":\"Dutch\"},{\"strArea\":\"Egyptian\"},{\"strArea\":\"French\"},{\"strArea\":\"Greek\"},{\"strArea\":\"Indian\"},{\"strArea\":\"Irish\"},{\"strArea\":\"Italian\"},{\"strArea\":\"Jamaican\"},{\"strArea\":\"Japanese\"},{\"strArea\":\"Kenyan\"},{\"strArea\":\"Malaysian\"},{\"strArea\":\"Mexican\"},{\"strArea\":\"Moroccan\"},{\"strArea\":\"Polish\"},{\"strArea\":\"Portuguese\"},{\"strArea\":\"Russian\"},{\"strArea\":\"Spanish\"},{\"strArea\":\"Thai\"},{\"strArea\":\"Tunisian\"},{\"strArea\":\"Turkish\"},{\"strArea\":\"Unknown\"},{\"strArea\":\"Vietnamese\"}]}");
        String mockResponse = fakeMealDB.getAllAreas(url + "list.php?a=list");

        assertEquals(mockResponse, "{\"meals\":[{\"strArea\":\"American\"},{\"strArea\":\"British\"},{\"strArea\":\"Canadian\"},{\"strArea\":\"Chinese\"},{\"strArea\":\"Croatian\"},{\"strArea\":\"Dutch\"},{\"strArea\":\"Egyptian\"},{\"strArea\":\"French\"},{\"strArea\":\"Greek\"},{\"strArea\":\"Indian\"},{\"strArea\":\"Irish\"},{\"strArea\":\"Italian\"},{\"strArea\":\"Jamaican\"},{\"strArea\":\"Japanese\"},{\"strArea\":\"Kenyan\"},{\"strArea\":\"Malaysian\"},{\"strArea\":\"Mexican\"},{\"strArea\":\"Moroccan\"},{\"strArea\":\"Polish\"},{\"strArea\":\"Portuguese\"},{\"strArea\":\"Russian\"},{\"strArea\":\"Spanish\"},{\"strArea\":\"Thai\"},{\"strArea\":\"Tunisian\"},{\"strArea\":\"Turkish\"},{\"strArea\":\"Unknown\"},{\"strArea\":\"Vietnamese\"}]}");
    }

    @Test
    public void getListOfAllIngredients() {
        when(fakeMealDB.getAllIngredients(url + "list.php?i=list")).thenReturn("{\"meals\":[{\"strArea\":\"American\"},{\"strArea\":\"British\"},{\"strArea\":\"Canadian\"},{\"strArea\":\"Chinese\"},{\"strArea\":\"Croatian\"},{\"strArea\":\"Dutch\"},{\"strArea\":\"Egyptian\"},{\"strArea\":\"French\"},{\"strArea\":\"Greek\"},{\"strArea\":\"Indian\"},{\"strArea\":\"Irish\"},{\"strArea\":\"Italian\"},{\"strArea\":\"Jamaican\"},{\"strArea\":\"Japanese\"},{\"strArea\":\"Kenyan\"},{\"strArea\":\"Malaysian\"},{\"strArea\":\"Mexican\"},{\"strArea\":\"Moroccan\"},{\"strArea\":\"Polish\"},{\"strArea\":\"Portuguese\"},{\"strArea\":\"Russian\"},{\"strArea\":\"Spanish\"},{\"strArea\":\"Thai\"},{\"strArea\":\"Tunisian\"},{\"strArea\":\"Turkish\"},{\"strArea\":\"Unknown\"},{\"strArea\":\"Vietnamese\"}]}");
        String mockResponse = fakeMealDB.getAllIngredients(url + "list.php?i=list");

        assertEquals(mockResponse, "{\"meals\":[{\"strArea\":\"American\"},{\"strArea\":\"British\"},{\"strArea\":\"Canadian\"},{\"strArea\":\"Chinese\"},{\"strArea\":\"Croatian\"},{\"strArea\":\"Dutch\"},{\"strArea\":\"Egyptian\"},{\"strArea\":\"French\"},{\"strArea\":\"Greek\"},{\"strArea\":\"Indian\"},{\"strArea\":\"Irish\"},{\"strArea\":\"Italian\"},{\"strArea\":\"Jamaican\"},{\"strArea\":\"Japanese\"},{\"strArea\":\"Kenyan\"},{\"strArea\":\"Malaysian\"},{\"strArea\":\"Mexican\"},{\"strArea\":\"Moroccan\"},{\"strArea\":\"Polish\"},{\"strArea\":\"Portuguese\"},{\"strArea\":\"Russian\"},{\"strArea\":\"Spanish\"},{\"strArea\":\"Thai\"},{\"strArea\":\"Tunisian\"},{\"strArea\":\"Turkish\"},{\"strArea\":\"Unknown\"},{\"strArea\":\"Vietnamese\"}]}");
    }

    @Test
    public void filterByMainIngredient() {
        when(fakeMealDB.filterByMainIngredient(url + "filter.php?i=chicken_breast")).thenReturn("{\"meals\":[{\"strMeal\":\"Chick-Fil-A Sandwich\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/sbx7n71587673021.jpg\",\"idMeal\":\"53016\"},{\"strMeal\":\"Chicken Couscous\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/qxytrx1511304021.jpg\",\"idMeal\":\"52850\"},{\"strMeal\":\"Chicken Fajita Mac and Cheese\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/qrqywr1503066605.jpg\",\"idMeal\":\"52818\"},{\"strMeal\":\"Chicken Ham and Leek Pie\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/xrrtss1511555269.jpg\",\"idMeal\":\"52875\"},{\"strMeal\":\"Chicken Quinoa Greek Salad\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/k29viq1585565980.jpg\",\"idMeal\":\"53011\"},{\"strMeal\":\"General Tso's Chicken\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/1529444113.jpg\",\"idMeal\":\"52951\"},{\"strMeal\":\"Honey Balsamic Chicken with Crispy Broccoli & Potatoes\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/kvbotn1581012881.jpg\",\"idMeal\":\"52993\"},{\"strMeal\":\"Katsu Chicken curry\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/vwrpps1503068729.jpg\",\"idMeal\":\"52820\"},{\"strMeal\":\"Rappie Pie\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/ruwpww1511817242.jpg\",\"idMeal\":\"52933\"}]}");
        String mockResponse = fakeMealDB.filterByMainIngredient(url + "filter.php?i=chicken_breast");

        assertEquals(mockResponse, "{\"meals\":[{\"strMeal\":\"Chick-Fil-A Sandwich\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/sbx7n71587673021.jpg\",\"idMeal\":\"53016\"},{\"strMeal\":\"Chicken Couscous\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/qxytrx1511304021.jpg\",\"idMeal\":\"52850\"},{\"strMeal\":\"Chicken Fajita Mac and Cheese\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/qrqywr1503066605.jpg\",\"idMeal\":\"52818\"},{\"strMeal\":\"Chicken Ham and Leek Pie\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/xrrtss1511555269.jpg\",\"idMeal\":\"52875\"},{\"strMeal\":\"Chicken Quinoa Greek Salad\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/k29viq1585565980.jpg\",\"idMeal\":\"53011\"},{\"strMeal\":\"General Tso's Chicken\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/1529444113.jpg\",\"idMeal\":\"52951\"},{\"strMeal\":\"Honey Balsamic Chicken with Crispy Broccoli & Potatoes\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/kvbotn1581012881.jpg\",\"idMeal\":\"52993\"},{\"strMeal\":\"Katsu Chicken curry\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/vwrpps1503068729.jpg\",\"idMeal\":\"52820\"},{\"strMeal\":\"Rappie Pie\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/ruwpww1511817242.jpg\",\"idMeal\":\"52933\"}]}");
    }

    @Test
    public void filterByMainIngredientThatDontExist() {
        when(fakeMealDB.filterByMainIngredient(url + "filter.php?i=aaa")).thenReturn("{\"meals\":null}");
        String mockResponse = fakeMealDB.filterByMainIngredient(url + "filter.php?i=aaa");

        assertEquals(mockResponse, "{\"meals\":null}");
    }

    @Test
    public void filterByCategory() {
        when(fakeMealDB.filterByCategory(url + "filter.php?c=Seafood")).thenReturn("{\"meals\":[{\"strMeal\":\"Baked salmon with fennel & tomatoes\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/1548772327.jpg\",\"idMeal\":\"52959\"},{\"strMeal\":\"Cajun spiced fish tacos\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/uvuyxu1503067369.jpg\",\"idMeal\":\"52819\"},{\"strMeal\":\"Escovitch Fish\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/1520084413.jpg\",\"idMeal\":\"52944\"},{\"strMeal\":\"Fish fofos\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/a15wsa1614349126.jpg\",\"idMeal\":\"53043\"},{\"strMeal\":\"Fish pie\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/ysxwuq1487323065.jpg\",\"idMeal\":\"52802\"},{\"strMeal\":\"Fish Stew with Rouille\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/vptqpw1511798500.jpg\",\"idMeal\":\"52918\"},{\"strMeal\":\"Garides Saganaki\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/wuvryu1468232995.jpg\",\"idMeal\":\"52764\"},{\"strMeal\":\"Grilled Portuguese sardines\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/lpd4wy1614347943.jpg\",\"idMeal\":\"53041\"},{\"strMeal\":\"Honey Teriyaki Salmon\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/xxyupu1468262513.jpg\",\"idMeal\":\"52773\"},{\"strMeal\":\"Kedgeree\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/utxqpt1511639216.jpg\",\"idMeal\":\"52887\"},{\"strMeal\":\"Kung Po Prawns\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/1525873040.jpg\",\"idMeal\":\"52946\"},{\"strMeal\":\"Laksa King Prawn Noodles\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/rvypwy1503069308.jpg\",\"idMeal\":\"52821\"},{\"strMeal\":\"Mediterranean Pasta Salad\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/wvqpwt1468339226.jpg\",\"idMeal\":\"52777\"},{\"strMeal\":\"Mee goreng mamak\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/xquakq1619787532.jpg\",\"idMeal\":\"53048\"},{\"strMeal\":\"Nasi lemak\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/wai9bw1619788844.jpg\",\"idMeal\":\"53051\"},{\"strMeal\":\"Portuguese fish stew (Caldeirada de peixe)\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/do7zps1614349775.jpg\",\"idMeal\":\"53045\"},{\"strMeal\":\"Recheado Masala Fish\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/uwxusv1487344500.jpg\",\"idMeal\":\"52809\"},{\"strMeal\":\"Salmon Avocado Salad\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/1549542994.jpg\",\"idMeal\":\"52960\"},{\"strMeal\":\"Salmon Prawn Risotto\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/xxrxux1503070723.jpg\",\"idMeal\":\"52823\"},{\"strMeal\":\"Saltfish and Ackee\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/vytypy1511883765.jpg\",\"idMeal\":\"52936\"},{\"strMeal\":\"Seafood fideu\\u00e0\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/wqqvyq1511179730.jpg\",\"idMeal\":\"52836\"},{\"strMeal\":\"Shrimp Chow Fun\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/1529445434.jpg\",\"idMeal\":\"52953\"},{\"strMeal\":\"Sledz w Oleju (Polish Herrings)\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/7ttta31593350374.jpg\",\"idMeal\":\"53023\"},{\"strMeal\":\"Spring onion and prawn empanadas\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/1c5oso1614347493.jpg\",\"idMeal\":\"53040\"},{\"strMeal\":\"Sushi\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/g046bb1663960946.jpg\",\"idMeal\":\"53065\"},{\"strMeal\":\"Three Fish Pie\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/spswqs1511558697.jpg\",\"idMeal\":\"52882\"},{\"strMeal\":\"Tuna and Egg Briks\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/2dsltq1560461468.jpg\",\"idMeal\":\"52975\"},{\"strMeal\":\"Tuna Nicoise\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/yypwwq1511304979.jpg\",\"idMeal\":\"52852\"}]}");
        String mockResponse = fakeMealDB.filterByCategory(url + "filter.php?c=Seafood");

        assertEquals(mockResponse, "{\"meals\":[{\"strMeal\":\"Baked salmon with fennel & tomatoes\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/1548772327.jpg\",\"idMeal\":\"52959\"},{\"strMeal\":\"Cajun spiced fish tacos\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/uvuyxu1503067369.jpg\",\"idMeal\":\"52819\"},{\"strMeal\":\"Escovitch Fish\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/1520084413.jpg\",\"idMeal\":\"52944\"},{\"strMeal\":\"Fish fofos\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/a15wsa1614349126.jpg\",\"idMeal\":\"53043\"},{\"strMeal\":\"Fish pie\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/ysxwuq1487323065.jpg\",\"idMeal\":\"52802\"},{\"strMeal\":\"Fish Stew with Rouille\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/vptqpw1511798500.jpg\",\"idMeal\":\"52918\"},{\"strMeal\":\"Garides Saganaki\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/wuvryu1468232995.jpg\",\"idMeal\":\"52764\"},{\"strMeal\":\"Grilled Portuguese sardines\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/lpd4wy1614347943.jpg\",\"idMeal\":\"53041\"},{\"strMeal\":\"Honey Teriyaki Salmon\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/xxyupu1468262513.jpg\",\"idMeal\":\"52773\"},{\"strMeal\":\"Kedgeree\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/utxqpt1511639216.jpg\",\"idMeal\":\"52887\"},{\"strMeal\":\"Kung Po Prawns\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/1525873040.jpg\",\"idMeal\":\"52946\"},{\"strMeal\":\"Laksa King Prawn Noodles\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/rvypwy1503069308.jpg\",\"idMeal\":\"52821\"},{\"strMeal\":\"Mediterranean Pasta Salad\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/wvqpwt1468339226.jpg\",\"idMeal\":\"52777\"},{\"strMeal\":\"Mee goreng mamak\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/xquakq1619787532.jpg\",\"idMeal\":\"53048\"},{\"strMeal\":\"Nasi lemak\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/wai9bw1619788844.jpg\",\"idMeal\":\"53051\"},{\"strMeal\":\"Portuguese fish stew (Caldeirada de peixe)\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/do7zps1614349775.jpg\",\"idMeal\":\"53045\"},{\"strMeal\":\"Recheado Masala Fish\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/uwxusv1487344500.jpg\",\"idMeal\":\"52809\"},{\"strMeal\":\"Salmon Avocado Salad\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/1549542994.jpg\",\"idMeal\":\"52960\"},{\"strMeal\":\"Salmon Prawn Risotto\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/xxrxux1503070723.jpg\",\"idMeal\":\"52823\"},{\"strMeal\":\"Saltfish and Ackee\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/vytypy1511883765.jpg\",\"idMeal\":\"52936\"},{\"strMeal\":\"Seafood fideu\\u00e0\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/wqqvyq1511179730.jpg\",\"idMeal\":\"52836\"},{\"strMeal\":\"Shrimp Chow Fun\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/1529445434.jpg\",\"idMeal\":\"52953\"},{\"strMeal\":\"Sledz w Oleju (Polish Herrings)\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/7ttta31593350374.jpg\",\"idMeal\":\"53023\"},{\"strMeal\":\"Spring onion and prawn empanadas\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/1c5oso1614347493.jpg\",\"idMeal\":\"53040\"},{\"strMeal\":\"Sushi\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/g046bb1663960946.jpg\",\"idMeal\":\"53065\"},{\"strMeal\":\"Three Fish Pie\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/spswqs1511558697.jpg\",\"idMeal\":\"52882\"},{\"strMeal\":\"Tuna and Egg Briks\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/2dsltq1560461468.jpg\",\"idMeal\":\"52975\"},{\"strMeal\":\"Tuna Nicoise\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/yypwwq1511304979.jpg\",\"idMeal\":\"52852\"}]}");
    }

    @Test
    public void filterByCategoryThatDontExist() {
        when(fakeMealDB.filterByCategory(url + "filter.php?c=aaa")).thenReturn("{\"meals\":null}");
        String mockResponse = fakeMealDB.filterByCategory(url + "filter.php?c=aaa");

        assertEquals(mockResponse, "{\"meals\":null}");
    }

    @Test
    public void filterByArea() {
        when(fakeMealDB.filterByArea(url + "filter.php?a=Canadian")).thenReturn("{\"meals\":[{\"strMeal\":\"BeaverTails\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/ryppsv1511815505.jpg\",\"idMeal\":\"52928\"},{\"strMeal\":\"Breakfast Potatoes\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/1550441882.jpg\",\"idMeal\":\"52965\"},{\"strMeal\":\"Canadian Butter Tarts\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/wpputp1511812960.jpg\",\"idMeal\":\"52923\"},{\"strMeal\":\"Montreal Smoked Meat\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/uttupv1511815050.jpg\",\"idMeal\":\"52927\"},{\"strMeal\":\"Nanaimo Bars\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/vwuprt1511813703.jpg\",\"idMeal\":\"52924\"},{\"strMeal\":\"Pate Chinois\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/yyrrxr1511816289.jpg\",\"idMeal\":\"52930\"},{\"strMeal\":\"Pouding chomeur\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/yqqqwu1511816912.jpg\",\"idMeal\":\"52932\"},{\"strMeal\":\"Poutine\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/uuyrrx1487327597.jpg\",\"idMeal\":\"52804\"},{\"strMeal\":\"Rappie Pie\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/ruwpww1511817242.jpg\",\"idMeal\":\"52933\"},{\"strMeal\":\"Split Pea Soup\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/xxtsvx1511814083.jpg\",\"idMeal\":\"52925\"},{\"strMeal\":\"Sugar Pie\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/yrstur1511816601.jpg\",\"idMeal\":\"52931\"},{\"strMeal\":\"Timbits\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/txsupu1511815755.jpg\",\"idMeal\":\"52929\"},{\"strMeal\":\"Tourtiere\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/ytpstt1511814614.jpg\",\"idMeal\":\"52926\"}]}");
        String mockResponse = fakeMealDB.filterByArea(url + "filter.php?a=Canadian");

        assertEquals(mockResponse, "{\"meals\":[{\"strMeal\":\"BeaverTails\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/ryppsv1511815505.jpg\",\"idMeal\":\"52928\"},{\"strMeal\":\"Breakfast Potatoes\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/1550441882.jpg\",\"idMeal\":\"52965\"},{\"strMeal\":\"Canadian Butter Tarts\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/wpputp1511812960.jpg\",\"idMeal\":\"52923\"},{\"strMeal\":\"Montreal Smoked Meat\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/uttupv1511815050.jpg\",\"idMeal\":\"52927\"},{\"strMeal\":\"Nanaimo Bars\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/vwuprt1511813703.jpg\",\"idMeal\":\"52924\"},{\"strMeal\":\"Pate Chinois\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/yyrrxr1511816289.jpg\",\"idMeal\":\"52930\"},{\"strMeal\":\"Pouding chomeur\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/yqqqwu1511816912.jpg\",\"idMeal\":\"52932\"},{\"strMeal\":\"Poutine\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/uuyrrx1487327597.jpg\",\"idMeal\":\"52804\"},{\"strMeal\":\"Rappie Pie\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/ruwpww1511817242.jpg\",\"idMeal\":\"52933\"},{\"strMeal\":\"Split Pea Soup\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/xxtsvx1511814083.jpg\",\"idMeal\":\"52925\"},{\"strMeal\":\"Sugar Pie\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/yrstur1511816601.jpg\",\"idMeal\":\"52931\"},{\"strMeal\":\"Timbits\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/txsupu1511815755.jpg\",\"idMeal\":\"52929\"},{\"strMeal\":\"Tourtiere\",\"strMealThumb\":\"https:\\/\\/www.themealdb.com\\/images\\/media\\/meals\\/ytpstt1511814614.jpg\",\"idMeal\":\"52926\"}]}");
    }

    @Test
    public void filterByAreaThatDontExist() {
        when(fakeMealDB.filterByArea(url + "filter.php?a=aaa")).thenReturn("{\"meals\":null}");
        String mockResponse = fakeMealDB.filterByArea(url + "filter.php?a=aaa");

        assertEquals(mockResponse, "{\"meals\":null}");
    }
}
